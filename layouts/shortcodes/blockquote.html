{{- $cite := .Get "cite" }}
{{- $cite_url := .Get "cite_url" }}
{{- $post := .Get "post" }}
<blockquote property="sc:citation" class="h-cite" {{- if($cite_url) }} cite="{{ $cite_url }}"{{ end }}>
{{ if .Get "preWhiteSpace" }}
<pre class="preWhiteSpace">{{ .Inner }}</pre>
{{ else }}
{{ .Inner | markdownify }}
{{ end }}
{{- if .IsNamedParams }}
<footer>&mdash;
{{- with .Get "pre" }}
<span class="p-author h-card">{{ partial "unparagraphy.html" . }}{{- if(or (or $cite $cite_url) $post) }}, {{ end }}</span>
{{- end }}
{{- if($cite) }}
<cite>
{{- if($cite_url) }}
<a href="{{ $cite_url }}" class="u-url p-name" rel="cite">{{ partial "unparagraphy.html" $cite }}</a>
{{- else }}
{{ partial "unparagraphy.html" $cite }}
{{- end }}
</cite>
{{- else if($cite_url) }}
<cite><a href="{{ $cite_url }}" class="u-url p-name" rel="cite">{{ $cite_url }}</a></cite>
{{- end }}
{{- if($post) }}{{ partial "unparagraphy.html" $post }}{{ end }}
</footer>
{{- end }}
</blockquote>
